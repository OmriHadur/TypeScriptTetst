{
	"create": {
		"input": {
			"email": {
				"required": true,
				"validEmail": true
			}
		},
		"entity": {
			"email": {
				"type": "string",
				"isUniqe": true
			},
			"createdAt": {
				"type": "date",
				"value": "functions.now()"
			}
		}
	},
	"alter": {
		"input": {
			"password": "required"
		},
		"variables": {
			"user": "modules.users.findOne({email:input.email})"
		},
		"validations": {
			"wrongEmailOrPassword": "functions.isMatch(variables.user?.hashedPassword,input.password)"
		},
		"entity": {
			"alteredAt": {
				"type": "date",
				"value": "functions.now()"
			}
		}
	},
	"resource": {
		"id": "input._id",
		"token": "functions.createToken({input._id,input.email})"
	}
}

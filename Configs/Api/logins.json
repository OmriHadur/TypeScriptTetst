{
	"create": {
		"input": {
			"email": {
				"required": true,
				"validEmail": true
			}
		},
		"entity": {
			"email": {
				"type": "string",
				"isUniqe": true
			},
			"createdAt": {
				"type": "date",
				"value": "now()"
			}
		}
	},
	"alter": {
		"input": {
			"password": "required"
		},
		"variables": {
			"user": "users.findOne({email:input.email})"
		},
		"validations": {
			"wrongEmailOrPassword": "isMatch(variables.user?.hashedPassword,input.password)"
		},
		"entity": {
			"alteredAt": {
				"type": "date",
				"value": "now()"
			}
		}
	},
	"resource": {
		"id": "input._id",
		"token": "createToken({id:variables.user._id,email:input.email})"
	}
}
